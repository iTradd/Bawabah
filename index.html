<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ù„Ø¨ÙˆØ§Ø¨Ø© Ø§Ù„Ø¹Ù‚Ø§Ø±ÙŠØ©</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />

    <style>
        /* Ø®Ø·ÙˆØ· */
        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;800&display=swap');

        /* Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¹Ø§Ù…Ø© */
        html, body {
            margin: 0;
            padding: 0;
            font-family: 'Cairo', sans-serif;
            background-color: #F9FAFB;
            color: #333;
            direction: rtl;
            transition: background-color 0.3s, color 0.3s;
        }

        /* Header */
        header {
            background: linear-gradient(90deg, #F96E2A, #FB8C3E);
            color: white;
            text-align: center;
            padding: 20px;
            font-size: 28px;
            font-weight: bold;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        /* Navbar */
        .navbar {
            display: flex;
            justify-content: center;
            gap: 15px;
            padding: 15px;
            background: #78B3CE;
            border-radius: 0 0 15px 15px;
            margin-bottom: 20px;
        }

        .navbar a {
            text-decoration: none;
            padding: 10px 20px;
            font-size: 16px;
            font-weight: bold;
            color: white;
            border-radius: 50px;
            background: #141414;
            transition: transform 0.3s ease, background-color 0.3s ease;
        }

        .navbar a:hover {
            background: white;
            color: #141414;
            transform: scale(1.1);
        }

        /* Search Section */
        .search-container {
            text-align: center;
            padding: 20px;
            background: #E3F2FD;
            border-radius: 15px;
            margin: 15px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .search-container input {
            padding: 12px;
            width: 70%;
            max-width: 500px;
            border: 1px solid #B0BEC5;
            border-radius: 50px;
            font-size: 16px;
        }

        .search-container input::placeholder {
            color: #AAA;
        }

        .search-container button {
            padding: 12px 25px;
            margin-left: 10px;
            border: none;
            border-radius: 50px;
            background: #F96E2A;
            color: white;
            font-size: 16px;
            cursor: pointer;
            transition: background 0.3s ease, transform 0.2s ease;
        }

        .search-container button:hover {
            background: #FB8C3E;
            transform: scale(1.1);
        }

        /* Filters Section */
        .filters {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 10px;
            padding: 20px;
        }

        .filters button {
            padding: 10px 20px;
            border: none;
            border-radius: 50px;
            background: #78B3CE;
            color: white;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: background 0.3s ease, transform 0.3s ease;
        }

        .filters button:hover {
            background: #141414;
            transform: scale(1.1);
        }

              /* Properties Section */
        .properties {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 15px;
            padding: 15px;
        }

        .property-card {
            background: white;
            border-radius: 15px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            position: relative;
            padding: 10px;
        }

        .property-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 22px rgba(0, 0, 0, 0.2);
        }

        .property-image img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 10px;
        }

        .property-details {
            padding: 10px;
            text-align: center;
        }

        .property-details h3 {
            font-size: 18px;
            color: #F96E2A;
            margin-bottom: 10px;
        }
        
                .property-details p {
            font-size: 14px;
            margin: 5px 0;
            color: #555;
        }

        .icon-container {
            display: flex;
            justify-content: space-evenly;
            align-items: center;
            margin-top: 10px;
        }

        .icon-item {
            text-align: center;
            font-size: 14px;
            color: #555;
        }

        .icon-item span {
            display: block;
            font-size: 28px;
            color: #F96E2A;
            margin-bottom: 5px;
        }

        /* Ø¥Ø¹Ø¯Ø§Ø¯ Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© */
.share-icon {
    position: absolute; /* ÙˆØ¶Ø¹ Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø¨Ø§Ù„Ù†Ø³Ø¨Ø© Ù„Ù„ÙƒØ±Øª */
    bottom: 10px; /* Ø§Ù„Ù…Ø³Ø§ÙØ© Ù…Ù† Ø§Ù„Ø£Ø³ÙÙ„ */
    left: 10px; /* Ø§Ù„Ù…Ø³Ø§ÙØ© Ù…Ù† Ø§Ù„ÙŠØ³Ø§Ø± */
    font-size: 24px; /* Ø­Ø¬Ù… Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø© */
    color: #000; /* Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø£Ø³ÙˆØ¯ */
    cursor: pointer; /* Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ù…Ø¤Ø´Ø± Ø¹Ù†Ø¯ Ø§Ù„Ù…Ø±ÙˆØ± */
    transition: transform 0.3s ease, color 0.3s ease; /* ØªØ£Ø«ÙŠØ± Ø¹Ù†Ø¯ Ø§Ù„ØªÙ…Ø±ÙŠØ± */
}

.share-icon:hover {
    transform: scale(1.2); /* ØªÙƒØ¨ÙŠØ± Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø¹Ù†Ø¯ Ø§Ù„ØªÙ…Ø±ÙŠØ± */
    color: #F96E2A; /* ØªØºÙŠÙŠØ± Ø§Ù„Ù„ÙˆÙ† Ø¹Ù†Ø¯ Ø§Ù„ØªÙ…Ø±ÙŠØ± */
}




    </style>
</head>
<body>
    <header>Ø§Ù„Ø¨ÙˆØ§Ø¨Ø© Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„Ø©</header>

    <div class="navbar">
        <a href="Property.html">Ø§Ù„Ø¹Ù‚Ø§Ø±Ø§Øª</a>
        <a href="Contract.html">Ø§Ù„Ø¹Ù‚ÙˆØ¯</a>
        <a href="Clients.html">Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡</a>
        <a href="archive.html">Ø§Ù„Ø£Ø±Ø´ÙŠÙ</a>
    </div>

    <div class="search-container">
        <input type="text" id="searchQuery" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø£Ùˆ Ø§Ù„ÙˆØµÙ">
        <button onclick="searchProperties()">ğŸ” Ø¨Ø­Ø«</button>
    </div>

    <div class="filters">
        <button onclick="filterProperties('')">Ø§Ù„ÙƒÙ„</button>
        <button onclick="filterProperties('Ø´Ù‚Ø©')">Ø´Ù‚Ø©</button>
        <button onclick="filterProperties('ÙÙ„Ø©')">ÙÙ„Ø©</button>
        <button onclick="filterProperties('Ø£Ø±Ø¶')">Ø£Ø±Ø¶</button>
        <button onclick="filterProperties('Ø¯ÙˆØ±')">Ø¯ÙˆØ±</button>
        <button onclick="filterProperties('Ù…Ø­Ù„')">Ù…Ø­Ù„</button>
    </div>

    <div id="properties" class="properties"></div>

    <div id="loadingIndicator">
        <svg xmlns="http://www.w3.org/2000/svg" style="margin: auto; display: block;" width="50px" height="50px" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid">
            <circle cx="50" cy="50" fill="none" stroke="#F96E2A" stroke-width="10" r="35" stroke-dasharray="164.93361431346415 56.97787143782138">
                <animateTransform attributeName="transform" type="rotate" repeatCount="indefinite" dur="1s" keyTimes="0;1" values="0 50 50;360 50 50"></animateTransform>
            </circle>
        </svg>
    </div>

    <script>
        const apiUrl = 'https://script.google.com/macros/s/AKfycbw2MNBeXvZGvkdwh6DCS9-BhMEkaGZNuqHjihxth_TZaYPH16GtZNjpRiLJoGdEN00/exec';

        function fetchProperties(query = '', type = '') {
            const loadingIndicator = document.getElementById('loadingIndicator');
            loadingIndicator.style.display = 'block';

            const url = `${apiUrl}?action=getProperties&sheet=Real_Estate&query=${encodeURIComponent(query)}&type=${encodeURIComponent(type)}`;
            fetch(url)
                .then(response => response.json())
                .then(data => {
                    renderProperties(data);
                    loadingIndicator.style.display = 'none';
                })
                .catch(error => {
                    console.error('Error fetching properties:', error);
                    loadingIndicator.style.display = 'none';
                });
        }

        function filterProperties(type) {
            fetchProperties('', type);
        }

        function renderProperties(data) {
            const propertiesContainer = document.getElementById('properties');
            propertiesContainer.innerHTML = '';
            data.forEach(property => {
                const card = document.createElement('div');
                card.classList.add('property-card');
                card.innerHTML = `
    <div class="property-image">
                                <a href="propertyDetails.html?propertyId=${property.Ù…Ø¹Ø±Ù_Ø§Ù„Ø¹Ù‚Ø§Ø±}">
                                    <img src="${property.Ø§Ù„ØµÙˆØ±}" alt="${property.Ù†ÙˆØ¹_Ø§Ù„Ø¹Ù‚Ø§Ø±}">
                                </a>
                            </div>
                            <div class="property-details">
                                <h3>
                                    <a href="propertyDetails.html?propertyId=${property.Ù…Ø¹Ø±Ù_Ø§Ù„Ø¹Ù‚Ø§Ø±}" style="text-decoration: none; color: #F96E2A;">${property.Ø§Ø³Ù…_Ø§Ù„Ø¹Ù‚Ø§Ø±}</a>
                                </h3>
                                <div class="icon-container">
                                    <div class="icon-item">
                                        <span class="material-symbols-rounded">home_work</span>
                                        <p>${property.Ù†ÙˆØ¹_Ø§Ù„Ø¹Ù‚Ø§Ø±}</p>
                                    </div>
                                    <div class="icon-item">
                                        <span class="material-symbols-rounded">pin</span>
                                        <p>${property.Ù…Ø¹Ø±Ù_Ø§Ù„Ø¹Ù‚Ø§Ø±}</p>
                                    </div>
                                    <div class="icon-item">
                                        <span class="material-symbols-rounded">payments</span>
                                        <p>${property.Ø§Ù„Ø³Ø¹Ø±} Ø±ÙŠØ§Ù„</p>
                                    </div>
                                    <div class="icon-item">
                                        <span class="material-symbols-rounded">location_on</span>
                                        <p>${property.Ø§Ù„Ù…ÙˆÙ‚Ø¹}</p>
                                    </div>
                                </div>
                            </div>
<div class="share-icon material-symbols-rounded" onclick="shareProperty('${property.Ø§Ø³Ù…_Ø§Ù„Ø¹Ù‚Ø§Ø±}', '${property.Ù…Ø¹Ø±Ù_Ø§Ù„Ø¹Ù‚Ø§Ø±}', '${property.Ø§Ù„ØµÙˆØ± || ''}')">share</div>
                        `;

                propertiesContainer.appendChild(card);
            });
        }
function shareProperty(propertyName, propertyId) {
    const officeName = "Ø§Ù„Ø¨ÙˆØ§Ø¨Ø© Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„Ø© Ù„Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø¹Ù‚Ø§Ø±ÙŠØ©"; // Ø§Ø³Ù… Ø§Ù„Ù…ÙƒØªØ¨
    const url = `propertyDetails.html?propertyId=${propertyId}`;
    const fullUrl = `${window.location.origin}/${url}`;
    const message = `${officeName}\n${propertyName}\nØ±Ù‚Ù… Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†: ${propertyId}\nØ±Ø§Ø¨Ø· Ø§Ù„Ø¹Ù‚Ø§Ø±: ${fullUrl}`;
    const whatsappUrl = `https://wa.me/?text=${encodeURIComponent(message)}`;
    window.open(whatsappUrl, '_blank');
}


        function searchProperties() {
            const query = document.getElementById('searchQuery').value;
            fetchProperties(query);
        }

        fetchProperties();
    </script>
</body>
</html>
